webpackJsonp([0],{"4YfN":function(t,e,n){"use strict";e.__esModule=!0;var i,a=n("aA9S"),o=(i=a)&&i.__esModule?i:{default:i};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},"6T1H":function(t,e){},FfMO:function(t,e){},FzZd:function(t,e,n){"use strict";var i=n("5pnV"),a=n("j6Iq"),o=n("XvZ9"),s=n("OXaN"),c=n("mEMm"),l=Object.assign;t.exports=!l||n("BRDz")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=s(t),l=arguments.length,r=1,d=a.f,u=o.f;l>r;)for(var h,v=c(arguments[r++]),f=d?i(v).concat(d(v)):i(v),p=f.length,m=0;p>m;)u.call(v,h=f[m++])&&(n[h]=v[h]);return n}:l},JRsF:function(t,e,n){t.exports=n.p+"static/img/loading.70b31c2.gif"},"L+82":function(t,e){},SnTU:function(t,e,n){t.exports=n.p+"static/img/loading.c6bc779.png"},XvZ9:function(t,e){e.f={}.propertyIsEnumerable},aA9S:function(t,e,n){t.exports={default:n("vWcR"),__esModule:!0}},j6Iq:function(t,e){e.f=Object.getOwnPropertySymbols},jUTB:function(t,e,n){var i=n("FITv");i(i.S+i.F,"Object",{assign:n("FzZd")})},q5w3:function(t,e){},rTmf:function(t,e){},tlXl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("4YfN"),a=n.n(i),o=n("9rMa"),s=n("L7Pj"),c=n.n(s),l={computed:a()({},Object(o.e)("index",["indexActive","indexColumn"]),Object(o.c)("index",["activeMeta"])),watch:{indexActive:function(){this.slideTo(this.activeMeta.index)}},methods:a()({},Object(o.d)("index",["set_indexActive"]),{channelActive:function(t){this.set_indexActive(t)},slideTo:function(t){this.$nextTick(function(){var e=c()(".nav-ul"),n=c()(".nav-ul a").eq(t);if(n){var i=void 0,a=e.width(),o=e.scrollLeft(),s=n.width(),l=n.position().left,r=(a-s)/2;i=0===a&&l<=r?0:~~(o+(l-r)),e.animate({scrollLeft:i},300),sessionStorage.setItem("navScrollLeft",i)}})},scrollRecover:function(){var t=sessionStorage.getItem("navScrollLeft");t&&this.$nextTick(function(){c()(".nav-ul").scrollLeft(t)})},goTop:function(){c()("#index ."+this.indexActive).animate({scrollTop:0})}}),activated:function(){this.scrollRecover()}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"indexHeader"}},[n("header",[n("div",{staticClass:"top-bar"},[n("div",{staticClass:"abs-l"}),t._v(" "),n("div",{staticClass:"abs-m"},[n("a",{staticClass:"title",on:{click:function(e){return e.stopPropagation(),t.goTop(e)}}},[t._v("健康头条")])]),t._v(" "),n("div",{staticClass:"abs-r"},[n("router-link",{staticClass:"btn-search",attrs:{to:"/"}})],1)])]),t._v(" "),n("nav",[n("div",{staticClass:"nav-ul"},t._l(t.indexColumn,function(e,i){return n("a",{key:i,class:{active:e.classpath===t.indexActive},attrs:{href:"javascript:;"},on:{click:function(n){t.channelActive(e.classpath)}}},[t._v("\n        "+t._s(e.classname)+"\n      ")])})),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-more"},[e("span",{staticClass:"line"}),this._v(" "),e("a",{staticClass:"btn-more",attrs:{href:"/"}})])}]};var d=n("vSla")(l,r,!1,function(t){n("q5w3"),n("6T1H")},null,null).exports,u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  footer\n")])},staticRenderFns:[]};var h=n("vSla")({},u,!1,function(t){n("xzbP")},null,null).exports,v=n("IHPB"),f=n.n(v),p={props:["channel"],data:function(){return{classPage:1,stickJson:[],bannerJson:[],contentJson:[],dataCount:0,topStatus:"",bottomLock:!1,bottomLoading:!0,bottomNoData:!1,loading:!1}},computed:a()({},Object(o.e)("index",["indexActive","indexPage","indexLocation","indexSwiper"]),Object(o.c)("index",["activeMeta"])),watch:{indexActive:function(t){this.init()},classPage:function(t){this.indexPage[this.indexActive]=t,this.set_indexPage(this.indexPage)},contentJson:function(t){this.set_currentContent(t)}},methods:a()({},Object(o.d)("index",["set_currentContent","set_indexPage","set_indexLocation"]),Object(o.b)("index",["get_ilistItem_cache","get_listItem_data","get_stick_data","get_banner_data"]),{init:function(){var t=this;this.indexActive===this.channel&&0===this.contentJson.length&&(this.loading="loading",this.classPage=this.activeMeta.page,this.get_stick_data().then(function(e){e&&(t.stickJson=e)}),this.get_banner_data().then(function(e){e&&(t.bannerJson=e)}),this.get_ilistItem_cache(this.indexActive).then(function(e){e?(t.contentJson=e,t.handleLocation("get"),t.loading=!1):t.loadTopAjax()}))},loadTopAjax:function(){var t=this;this.get_listItem_data(this.classPage).then(function(e){var n;(t.loading=!1,e)?((n=t.contentJson).unshift.apply(n,f()(e)),t.dataCount=e.length,t.classPage++,c()(".container."+t.channel+" .dataCount").slideDown(200).delay(1e3).slideUp(200),t.newLookHere()):c()(".container."+t.channel+" .noNewCount").slideDown(200).delay(1e3).slideUp(200);t.$refs.loadmore.onTopLoaded(),t.loading=!1,c()(".container."+t.channel+" .requestFail").hide()}).catch(function(e){console.log("loadTop发生错误",e),t.contentJson.length>0?(c()(".container."+t.channel+" .requestFail").show(),t.loading=!1):t.loading="error"})},loadBottomAjax:function(){var t=this;this.bottomLock=!0,this.get_listItem_data(this.classPage).then(function(e){var n;e?((n=t.contentJson).push.apply(n,f()(e)),t.classPage++):(t.bottomLoading=!1,t.bottomNoData=!0);t.bottomLock=!1})},newLookHere:function(){if(this.dataCount>=10){var t=this.contentJson.findIndex(function(t){return"lookHere"===t.type});this.contentJson.splice(t,1),this.contentJson.splice(10,0,{type:"lookHere"})}},lookHereClick:function(){var t=this;c()(".container."+this.channel).on("click","#lookHere",function(){c()(".container."+t.indexActive).animate({scrollTop:0},function(){t.loadTopAjax()})})},handleTopChange:function(t){this.topStatus=t},handleLocation:function(t){var e=this;if(this.indexActive===this.channel)if("get"===t)this.$nextTick(function(){c()(".container."+e.channel).scrollTop(e.activeMeta.location)});else if("set"===t){var n=c()(".container."+this.channel).scrollTop();n>=0&&(this.indexLocation[this.indexActive]=n,this.set_indexLocation(this.indexLocation))}},saveScroll:function(){this.handleLocation("set")}}),mounted:function(){this.init(),this.lookHereClick()},activated:function(){this.handleLocation("get"),window.addEventListener("beforeunload",this.saveScroll)},deactivated:function(){this.handleLocation("set"),window.removeEventListener("beforeunload",this.saveScroll)}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadBottomAjax,expression:"loadBottomAjax"}],staticClass:"container",class:t.channel,attrs:{"infinite-scroll-disabled":"bottomLock","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"false"}},[i("my-loading",{attrs:{visible:t.loading,"reload:":t.init}}),t._v(" "),i("div",{staticClass:"globalTip"},[i("div",{staticClass:"dataCount"},[t._v("已为你推荐"+t._s(t.dataCount)+"条数据")]),t._v(" "),i("div",{staticClass:"noNewData"},[t._v("没有最新内容了")]),t._v(" "),i("div",{staticClass:"requestFail"},[t._v("网络请求失败，请检查网络")])]),t._v(" "),i("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTopAjax,"auto-fill":!1,distance:t.indexSwiper},on:{"top-status-change":t.handleTopChange}},[i("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[i("span",{directives:[{name:"show",rawName:"v-show",value:"pull"==t.topStatus,expression:"topStatus == 'pull'"}]},[i("img",{staticClass:"pullLoading",attrs:{src:n("SnTU"),alt:""}}),t._v(" 下拉刷新↓")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"drop"==t.topStatus,expression:"topStatus == 'drop'"}]},[i("img",{staticClass:"pullLoading",attrs:{src:n("SnTU"),alt:""}}),t._v(" 释放更新↑")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"loading"==t.topStatus,expression:"topStatus == 'loading'"}]},[i("img",{staticClass:"pullLoading",attrs:{src:n("JRsF"),alt:""}}),t._v(" 加载中...")])]),t._v(" "),t.stickJson.length>0?i("List",{attrs:{itemJson:t.stickJson}}):t._e(),t._v(" "),t.contentJson.length>0?i("List",{attrs:{itemJson:t.contentJson}}):t._e(),t._v(" "),t.contentJson.length>0?i("div",{staticClass:"bottomLoad"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.bottomLoading,expression:"bottomLoading"}],staticClass:"loading"},[i("mt-spinner",{attrs:{type:"fading-circle"}}),t._v(" 加载中...")],1),t._v(" "),t.bottomNoData?i("div",{staticClass:"noData"},[t._v("没有更多内容了")]):t._e()]):t._e()],1)],1)},staticRenderFns:[]};var x={components:{pullContainer:n("vSla")(p,m,!1,function(t){n("L+82")},null,null).exports},data:function(){return{swiperOption:{notNextTick:!0,onSlideChangeStart:this.slideChangeCallBack,onSliderMove:this.slideMoveCallback,onTouchEnd:this.touchEndCallback}}},computed:a()({},Object(o.e)("index",["indexActive","indexColumn"]),Object(o.c)("index",["activeMeta"])),watch:{indexActive:function(t){this.slideTo(300)}},methods:a()({},Object(o.d)("index",["set_indexActive","set_indexSwiper"]),{slideTo:function(t){console.log(this.activeMeta.index),this.$refs.mySwiper.swiper.slideTo(this.activeMeta.index,t,!0),console.log("swiper",this.$refs.mySwiper.swiper.activeIndex)},slideChangeCallBack:function(t){var e=t.activeIndex;this.set_indexActive(this.indexColumn[e].classpath)},slideMoveCallback:function(){this.set_indexSwiper(!0)},touchEndCallback:function(){this.set_indexSwiper(!1)}}),mounted:function(){this.slideTo(0)}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("swiper",{ref:"mySwiper",attrs:{id:"swiper-box",options:this.swiperOption}},this._l(this.indexColumn,function(t,n){return e("swiper-slide",{key:n},[e("pull-container",{attrs:{channel:t.classpath}})],1)}))},staticRenderFns:[]};var g={components:{indexHeader:d,indexFooter:h,swiperContainer:n("vSla")(x,_,!1,function(t){n("FfMO")},null,null).exports},methods:a()({},Object(o.b)("index",["get_indexColumn_data"])),created:function(){this.get_indexColumn_data()}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"index"}},[e("index-header"),this._v(" "),e("swiper-container"),this._v(" "),e("keep-alive",[e("router-view")],1)],1)},staticRenderFns:[]};var w=n("vSla")(g,b,!1,function(t){n("rTmf")},null,null);e.default=w.exports},vWcR:function(t,e,n){n("jUTB"),t.exports=n("AKd3").Object.assign},xzbP:function(t,e){}});
//# sourceMappingURL=0.fbe5f8724b8b6cbf29ce.js.map